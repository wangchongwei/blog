---
title: 面试题合集
date: 2021-02-02 14:54:45
tags: 面试
---

# android


## 腾讯

### 一面

1、Object的方法有哪些？
> finilize 

2、为什么要有HashCode方法，hash算法的原理，在Java中哪些地方用到，进而问到了HashMap的源码
> 

3、Java有几种锁，synchronized与Lock有什么区别，Lock的实现原理，有没有碰到死锁的情况

> synchronized 是 jvm 内置锁  Lock 是 famework 层实现的锁
> synchronized 是非公平锁 Lock 可以实现公平锁
> synchronized 是 独占锁，Lock 可以实现共享锁

> Lock 基于 AQS 实现，AQS 又是基于 CAS
> 通过AQS中的内部类 Node 实例来维持一个链表，state 记录锁的状态， thread 记录占有锁的线程，链表记录进入阻塞的线程

4、Android源码中用到了哪些设计模式，举例说明
> 消息机制：享元模式

5、一个Android正常启动有多少个线程?(这里当时是比较懵逼的，第一反应是一个主线程，然后觉得应该不止这么简单，想到应用Activity启动的话，应该还有2个Binder线程，可能一个管理JVM的线程，面试官接着问还有哪些。。果断放弃不知道...)

6、Binder机制的实现思想
> Serveice 端向 Binder 层注册
> Client 端通过 Binder 获取到 Service 的一个副本引用(如果在同一个进程时，直接获取到Service实例)

7、简单描述Https的实现思路
> HTTP + SSL/TLS
> 在Http的基础上再加上双向身份认证
> 
> 在三次牵手建立通信过程中，
> 客户端还会发送本地支持的SSL/TSL版本、算法版本等信息，
> 而服务端会根据对应的版本，向客户端发送服务端证书，
> 客户端验证证书，拿到服务器公钥；利用两个随机数，生成pre-master secret(客户端私钥)，并使用服务器的公钥加密发送给服务器。
> 服务端获取到客户端的私钥，然后使用客户端的私钥加密服务端的私钥再发送给客户端，达到了交换两方私钥的目的

8、描述下快速排序的思想，时间复杂度？什么场景对应着最坏情况？
> 选取一个基准值(一般是第一个元素)，将数组分割为两段，比基准值大的元素放一端、比基准值小的元素放另一端。完成后对分割的两段数组再进行操作。直到分割的数组长度为1
> 采用分治的思想，时间复杂度 O(n*logn)
> 最坏的场景：升序数组要排序成降序数组

9、给定无序数组和一个值，找到两个数和为值的元素，不能使用额外空间复杂度（不要使用HashMap）


### 二面
二面是视频面试，还是个周六下午。。。

1、TCP/IP四层模型，网络层和传输层有什么区别？网络层的主要工作是什么
> * 网络层 IP协议   
>   - 流量控制、拥塞控制、差错控制 & 网际互连
>   - 封装数据成分组/包、路由选择
> * 传输层 TCP协议 
>   - 为端到端的连接提供可靠的传输服务、流量控制、差错控制、数据传输管理服务

2、socket.accept()函数对应着TCP三次握手中哪一次握手，哪个函数代表连接建立完毕，四次挥手的过程？
  - accept对应第三次握手后，此时服务端会进入阻塞状态，一直等待客户端发送数据 （服务端）
  - connect 代表第一次握手
  - listen 代表第二次握手 （服务端）

3、有做过哪些优化工作，卡顿优化，内存优化，启动优化，APK体积优化，每个做了哪些工作

4、JNI开发中有碰到什么问题？怎么定位native crash

5、递归非递归反转链表

6、打印回环数组


### 三面
1、Looper消息机制，postDelay的Message怎么处理，Looper中的消息是同步还是异步？什么情况下会有异步消息
> postDelay 都是延时消息，根据传入的延时时间毫秒数，赋值 msg 的 when 为当前时间戳 + 传入的时间毫秒数
> 通过自己代码传输的消息都是同步消息，只有系统内部源码中，能发送异步消息

2、事件分发机制的源码

3、android的屏幕刷新机制，怎么优化UI卡顿情况

4、有没有使用过插件化框架，实现原理？

5、你在项目中碰到什么比较棘手的问题？怎么解决的？

6、找到一个无序数组中第一次出现最多次数的元素

## 某手机海外部门（offer）
上来就是笔试题，其实之前没怎么做过面试题，难道现在都是这个套路了....？20分钟后做完就开始面试了

1、手写线程安全的观察者模式

2、找到一个字符串中出现最多的字母

3、描述Java面对对象六大原则针对项目中谈谈自己的看法

4、android阅读过哪些源码，举例说明

> 消息机制
> 时间分发机制
> HashMap 数据结构
> okHttp

5、项目中的优化工作，内存，卡顿优化，leakcanary的原理实现

6、Tcp/Udp的区别，项目中的C/S端双向认证如何实现
> * TCP 面向连接，安全性高，不会数据丢失，效率低
> * UDP 面向报文 不安全，数据可能丢失，但效率高
> 对称+非对称算法 + 证书 （Https思路）
> C端获取服务端公钥，通过公钥加密C端私钥发送给S端，S端获取到C端私钥，然后将S端私钥通过C端私钥加密，发送给C端。
> 此时C、S端就交换了私钥，并都获取到公钥

7、项目中有碰到过哪些比较难解决的问题。

8、android 8.0，9.0有哪些新特性，有没有了解过

## 深信服
1、HashMap的原理以及android中为什么建议用ArrayMap和SpareArray替代HashMap？
> 

> ArrayMap & SpareArray 空间利用率高，线程安全

2、android如何保证进程不被杀死
> 守护进程

3、Java怎么与C++进行交互，以及native crash如何定位的
> jni (java native interface)

4、C/S如何保证双向认证（项目中使用到的，可以理解为Https的原理），用到了哪些加密算法
> 对称+非对称算法 + 证书 （Https思路） hash算法
> C端获取服务端公钥，通过公钥加密C端私钥发送给S端，S端获取到C端私钥，然后将S端私钥通过C端私钥加密，发送给C端。
> 此时C、S端就交换了私钥，并都获取到公钥

5、LBS定位如何去除野点（指因为定位偏差过大的点），大数据量如何和后台交互？

6、设计模式用过哪些，动态代理的原理？

7、项目中有做过哪些优化，优化成效如何？



## TCL（offer）
是一个猎头推荐的一个职位，主要应该是做TV上的相关项目，有VR类型类似的项目等等，一面居然是一个妹子和一个男的一起进来的，还是第一次遇到，没问多少基础知识点，更多的是根据自身项目问一些东西

1、TCP/UDP的区别，有看过具体报文的信息吗
> * TCP 面向连接，安全性高，不会数据丢失，效率低
> * UDP 面向报文 不安全，数据可能丢失，但效率高


2、你觉得开发一个SDK，需要注意哪些地方，有没有做过SDK性能测试

3、有了解过音视频的编解码吗

4、你觉得你这个项目中比较难的地方在哪里，你是如何解决的

5、开放题：让你加载一个200M左右的GIF，如何实现及优化，不可降低画质

6、如何优化一个列表滑动的流畅性
> ui优化：减少试图层级嵌套
> 列表缓存处理

